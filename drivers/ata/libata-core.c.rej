--- drivers/ata/libata-core.c	2019-04-05 16:31:40.000000000 -0400
+++ drivers/ata/libata-core.c	2019-11-22 06:58:54.059328457 -0500
@@ -3967,6 +3967,7 @@
 		scontrol &= ~(0x1 << 8);
 		scontrol |= (0x6 << 8);
 		break;
+	case ATA_LPM_MED_POWER_WITH_DIPM:
 	case ATA_LPM_MIN_POWER:
 		if (ata_link_nr_enabled(link) > 0)
 			/* no restrictions on LPM transitions */
